language: cpp

matrix:
  include:
    - os: linux
      dist: bionic
      sudo: true
      compiler: gcc
      addons:
       apt:
         packages: &precise_latest_boost_packages
           - gcc-8
           - g++-8
           - clang
           - python-yaml
           - lcov
           - libmpdec-dev
           - cmake
           - libboost-all-dev
           - libgtest-dev
           - google-mock
           
        sources:  
          - sourceline: "ppa:ubuntu-toolchain-r/test"

script:
     - mkdir -p build
     - cd build
     - cmake ${CMAKE_OPTIONS} -DCMAKE_CXX_FLAGS=${CXX_FLAGS} -DCMAKE_BUILD_TYPE=Coverage -DBUILD_TESTS=ON .. 
     - make
     - make project1_coverage
     - ctest
     
